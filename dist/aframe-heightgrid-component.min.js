!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){function n(e){if("object"==typeof e)return e;for(var t=e.match(/([+\-0-9eE\.]+)/g),n=[],r=0,i=t?t.length:0;i>r;r++)n.push(parseFloat(t[r],10));return n}function r(e){if("object"==typeof e)return e;for(var t=e.match(/([+\-0-9eE\.]+)/g),n=[],r=0,i=t?t.length:0;i>r;r+=2)n.push(new THREE.Vector2(+t[r+0],+t[r+1]));return n}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("heightgrid",{schema:{dependencies:["faceset"],origin:{type:"vec3","default":{x:0,y:0,z:0}},xdimension:{"default":2},zdimension:{"default":2},xspacing:{"default":1},zspacing:{"default":1},heights:{"default":[0],parse:function(e){return n(e)}},yscale:{"default":1},uvs:{"default":[],parse:function(e){return r(e)},stringify:function(e){return e.map(function(e){return"object"!=typeof e?e:[e.x,e.y].join(" ")}).join(",")}}},init:function(){},update:function(e){for(var t=this.el,n=this.data,r=n.origin,i=Math.max(2,n.xdimension),o=Math.max(2,n.zdimension),a=n.xspacing,u=n.zspacing,f=n.yscale,s=n.heights,c=n.uvs,p=[],d=0;o>d;d++)for(var h=0;i>h;h++)p.push(new THREE.Vector3(r.x+h*a,r.y+f*s[(h+d*i)%s.length],r.z+d*u));for(var l=[],d=0;o-1>d;d++)for(var h=0;i-1>h;h++){var g=h+d*i;l.push(new THREE.Face3(g,g+1+i,g+1)),l.push(new THREE.Face3(g,g+i,g+1+i))}var v=c.map(function(e){return e});if(0==v.length)for(var d=0;o>d;d++)for(var h=0;i>h;h++)v.push(new THREE.Vector2(h/(i-1),d/(o-1)));t.setAttribute("faceset",{triangles:l,vertices:p,uvs:v})},remove:function(){this.el.removeAttribute("faceset")}})}]);