!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){function n(e){if("object"==typeof e)return e;for(var t=e.match(/([+\-0-9eE\.]+)/g),n=[],r=0,a=t?t.length:0;a>r;r++)n.push(parseFloat(t[r],10));return n}function r(e){if("object"==typeof e)return e;for(var t=e.match(/([+\-0-9eE\.]+)/g),n=[],r=0,a=t?t.length:0;a>r;r+=2)n.push(new THREE.Vector2(+t[r+0],+t[r+1]));return n}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("heightgrid",{schema:{dependencies:["faceset"],origin:{type:"vec3","default":{x:0,y:0,z:0}},xdimension:{"default":2},zdimension:{"default":2},xspacing:{"default":1},zspacing:{"default":1},heights:{"default":[0],parse:function(e){return n(e)}},yscale:{"default":1},uvs:{"default":[],parse:function(e){return r(e)},stringify:function(e){return e.map(function(e){return"object"!=typeof e?e:[e.x,e.y].join(" ")}).join(",")}}},init:function(){},update:function(e){for(var t=this.el,n=this.data,r=n.origin,a=Math.max(2,n.xdimension),i=Math.max(2,n.zdimension),o=n.xspacing,u=n.zspacing,s=n.yscale,f=n.heights,c=n.uvs,p=[],h=0;i>h;h++)for(var d=0;a>d;d++)p.push(new THREE.Vector3(r.x+d*o,r.y+s*f[(d+h*a)%f.length],r.z+h*u));for(var l=[],h=0;i-1>h;h++)for(var d=0;a-1>d;d++){var g=d+h*a;(d+h)%2==0?(l.push(new THREE.Face3(g,g+1+a,g+1)),l.push(new THREE.Face3(g,g+a,g+1+a))):(l.push(new THREE.Face3(g,g+a,g+1)),l.push(new THREE.Face3(g+a,g+1+a,g+1)))}var v=c.map(function(e){return e});if(0==v.length)for(var h=0;i>h;h++)for(var d=0;a>d;d++)v.push(new THREE.Vector2(d/(a-1),h/(i-1)));t.setAttribute("faceset",{triangles:l,vertices:p,uvs:v})},remove:function(){this.el.removeAttribute("faceset")}})}]);